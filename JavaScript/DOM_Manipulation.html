<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM Manipulation</title>
</head>

<body>

    <p id="firstPara">This is the first paragraph</p>
    <p class="para">This is the second paragraph</p>
    <p class="para">This is the third paragraph</p>

    <div id="mainDiv">
        <p class="fpara">
            This is my first
            <span>text</span>
        </p>

        <p id = "spara">
            This is my second
            <span>text</span>
        </p>
    </div>

    <script>

        // Methods to Select Elements

        document.getElementById("firstPara");
        // Fetches the element with the specified ID

        // If we use an ID that does not exist, it will return null.
        // Since ID is unique, it always returns a single object.

        document.getElementsByClassName("para");
        document.getElementsByClassName("hidden");
        // Returns multiple elements in an HTMLCollection (not an array!)

        document.getElementsByTagName('p');
        // Selects all <p> elements

        document.querySelector('.para');
        // Only the first element with class "para" is selected; others are ignored.

        document.querySelector("#firstPara");
        document.querySelector('p');
        // Selects only the first <p> element and ignores others.

        // To select all matching elements, use querySelectorAll
        document.querySelectorAll('p');

        // Storing a queried element into a variable
        let selectedPara = document.querySelector('p');

        console.log(selectedPara); // Logs the first <p> element

        // Get and Update Existing Elements
        let content = document.getElementById('firstPara').innerHTML;
        // Retrieves the full HTML inside the element

        document.getElementById('firstPara').innerHTML = "This is the updated paragraph";
        // Updates the inner content

        /*
        outerHTML returns the entire element as a string, including the element itself.
        It can also replace the element with new HTML.
        */
        let header = document.getElementById("firstPara");
        header.outerHTML = '<h2>This is a header</h2>';

        // Using textContent to extract all text inside an element
        let container = document.getElementById("mainDiv");
        console.log(container.textContent);
        // Returns all text inside the div, treating nested tags as plain text.

        /*
        Difference between textContent and innerText:
        - textContent extracts all text, even hidden content.
        - innerText only extracts visible text and ignores hidden elements.
        */
        console.log(container.innerText);

        // Adding/Creating Elements Dynamically
        let newHeading = document.createElement('h1');
        newHeading.textContent = "This is an H1 heading";

        // Append the new heading inside the body
        // document.body.appendChild(newHeading);
        let bodytag =  document.querySelector('body');

        bodytag.insertAdjacentElement('afterend', newHeading);

        // Another way to add a paragraph (slower method)
        let newParagraph = document.createElement('p');
        let newTextNode = document.createTextNode("This is a new paragraph added dynamically.");

        newParagraph.appendChild(newTextNode);
        document.body.appendChild(newParagraph);

        // Using insertAdjacentElement to insert an element in different positions
        let mainDiv = document.querySelector("#mainDiv");
        let newSpan = document.createElement('span');

        newSpan.textContent = "This is a span tag";

        mainDiv.insertAdjacentElement('beforebegin', newSpan);
        // mainDiv.insertAdjacentElement('afterbegin', newSpan);
        // mainDiv.insertAdjacentElement('beforeend', newSpan);
        // mainDiv.insertAdjacentElement('afterend', newSpan);

        // Removing an element (opposite of appendChild)
        let parentDiv = document.getElementById("mainDiv");
        let childElement = document.querySelector(".fpara"); // We can remove by class name , id , by selecting using querySelector/ get Element method

        // The drawback of this method is that we have to know the parent element

        parentDiv.removeChild(childElement);

        let removed = document.getElementById('spara');

        // getElementsByClassName() returns a collection, not a single element. ❌ remove() only works on individual elements, not collections. ✅ You must loop over the collection to remove elements one by one.

        removed.remove();
        

    </script>

</body>

</html>